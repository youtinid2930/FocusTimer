@page
@model FocusTimer.Pages.HistoryModel
@{
    ViewData["Title"] = "Historique des sessions Pomodoro";
}

<div class="history-container">
    <h2 class="history-title mb-4">@ViewData["Title"]</h2>

    @if (Model.Sessions == null || Model.Sessions.Count == 0)
    {
        <div class="alert alert-info">
            <i class="fas fa-info-circle me-2"></i>Aucune session enregistrée.
        </div>
    }
    else
    {
        <div class="table-responsive">
            <table class="table table-hover align-middle">
                <thead class="table-light">
                    <tr>
                        <th scope="col" class="ps-4">#</th>
                        <th scope="col">Tâche</th>
                        <th scope="col">Début</th>
                        <th scope="col" class="text-end pe-4">Durée</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var session in Model.Sessions)
                    {
                        <tr class="session-row">
                            <td class="ps-4 fw-bold text-muted">@session.Id</td>
                            <td>
                                <span class="task-name">@session.TaskName</span>
                            </td>
                            <td>
                                <i class="far fa-clock text-primary me-2"></i>
                                @session.StartTime.ToLocalTime().ToString("g")
                            </td>
                            <td class="text-end pe-4">
                                <span class="badge bg-primary rounded-pill">
                                    @session.DurationMinutes min
                                </span>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
</div>